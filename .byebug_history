quit
HTTParty.get(flexzen_url(zenfaco_path), query: { 'limit': 100 }, timeout: 1000000)&.map { |order| order['so_ct'] }
HTTParty.get(flexzen_url(zenfaco_path), query: { 'limit': 100 })&.map { |order| order['so_ct'] }
quit
request.body
request
c
request.body.read
request.body
request.data
request
quit
HTTParty.post("http://flexzen.herokuapp.com/webhooks/invoices", headers: headers_config)
HTTParty.post("http://localhost:3001/webhooks/invoices", headers: headers_config)
def headers_config
      {
        "Retailer": "Fascom",
        "Authorization": "Bearer" + " " + "#{@service.result['access_token']}",
        'Accept-Encoding' => ''
      }
    end
@service = ApiClients::KiotvietClient.call
HTTParty.post(":http://localhost:3001/webhooks/invoi)
request
request.data
request.body.read
quit
request.body.read
request.body
request
response = HTTParty.get("#{ENV['HOST']}/webhooks/invoices", headers: headers_config).body
response = HTTParty.get("#{ENV['HOST']}/webhooks/invoices", headers: headers_config)
def headers_config
      {
        "Retailer": "Fascom",
        "Authorization": "Bearer" + " " + "#{@service.result['access_token']}",
        'Accept-Encoding' => ''
      }
    end
@service = ApiClients::KiotvietClient.call
Synchronizers::BaseSynchronizer.new.call
response = HTTParty.get("#{ENV['HOST']}/webhooks/invoices", headers: headers_config)
response = HTTParty.get("#{ENV['HOST']}/webhooks/invoices", query: kiotviet_params, headers: headers_config)
params
c
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            # "Url": "#{ENV['HOST']}/webhooks/invoices",
            "Url": "https://flexzen.herokuapp.com",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)
webhooks_response = HTTParty.post("https://webhook.mykiot.vn/api/webhook/453073", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "#{ENV['HOST']}/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "#{ENV['HOST']}/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
webhooks_response = HTTParty.get("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body, headers: headers_config)&.body
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "https://webhook.mykiot.vn/api/webhook/453073",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
webhooks_response = HTTParty.get("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body, headers: headers_config)&.body
webhooks_response = HTTParty.get("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "#{ENV['HOST']}/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
c
 webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json)&.body
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "http://localhost:3001/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "https://flexzen.herokuapp.com/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
 webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "https://localhost:3001/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)&.body
webhooks_response = HTTParty.post("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "http://localhost:3001/webhooks/invoices",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
c
puts JSON.pretty_generate(JSON.parse(webhooks_response.body))
JSON.pretty_generate(JSON.parse(webhooks_response.body))
JSON.pretty_generate(JSON.parse(webhooks_response))
webhooks_response = HTTParty.get("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "https://public.kiotapi.com/webhooks/invoice_webhooks",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
response = HTTParty.get("https://webhook.mykiot.vn/api/webhook/453073", headers: headers_config).bodyregister_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "https://public.kiotapi.com/webhooks/invoice_webhooks",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
response = HTTParty.get("https://webhook.mykiot.vn/api/webhook/453073", headers: headers_config).body
response = HTTParty.get("https://webhook.mykiot.vn/api/webhook/453073", headers: headers_config)
puts JSON.pretty_generate(JSON.parse(webhooks_response.body))
puts JSON.pretty_generate(JSON.parse(response.body))
webhooks_response = HTTParty.get("https://public.kiotapi.com/webhooks", body: register_webhooks_body.to_json, headers: headers_config)
register_webhooks_body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "http://localhost:3001/webhooks",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
puts JSON.pretty_generate(JSON.parse(response.body))
JSON.pretty_generate(JSON.parse(response.body))
JSON.parse(response.body)
response.body
response = HTTParty.get("https://public.kiotapi.com/webhooks", body: body.to_json, headers: headers_config)
body.to_json
body = {
          "Webhook": {
            "Type": "invoice.update",
            "Url": "https://public.kiotapi.com/webhooks/invoice_update",
            "IsActive": true,
            "Description": "Invoice Update Webhook"
        }
      }
extract_data_zenfaco(branchZenfaco)
response_hash.each do |obj|
        fascom.include?(obj['branchId']) ? branchFascom << obj : branchZenfaco << obj
      end
response_hash.delete_if { |data| statusValueReject.include?(data['status']) }
response_hash = response_hash.filter { |data| !orders.include?(data['code'])}
orders = ordersZenfaco.union(ordersFascom)
ordersFascom = HTTParty.get(flexzen_url(fascom_path), query: { 'limit': 100 })&.map { |order| order['so_ct'] }
ordersZenfaco = HTTParty.get(flexzen_url(zenfaco_path), query: { 'limit': 100 })&.map { |order| order['so_ct'] }
c
response_hash = response_hash.filter { |data| !orders.include?(data['code'])}
c
response_hash = response_hash.filter { |data| !orders.include?(data['code'])}
c
response_hash = response_hash.select { |data| !orders.include?(data['code'])}
````response_hash = response_hash.select { |data| !orders.include?(data['code'])}
response_hash.first
response_hash = get_data_kiotviet['data']
response_hash
response_hash = response_hash.select { |data| !orders.include?(data)}
orders = ordersZenfaco.union(ordersFascom)
response_hash = response_hash.select { |data| !orders.include?(data)}
response_hash = response_hash.filter { |data| !orders.include?(data)}.count
response_hash = response_hash.filter { |data| !orders.include?(data)}
orders = ordersZenfaco.union(ordersFascom)
ordersFascom = HTTParty.get(flexzen_url(fascom_path))&.map { |order| order['so_ct'] }
ordersZenfaco = HTTParty.get(flexzen_url(zenfaco_path))&.map { |order| order['so_ct'] }
response_hash = get_data_kiotviet['data']
response_hash = []
c
ordersZenfaco.union(ordersFascom)
ordersFascom = HTTParty.get(flexzen_url(fascom_path))&.map { |order| order['so_ct'] }
ordersZenfaco = HTTParty.get(flexzen_url(zenfaco_path))&.map { |order| order['so_ct'] }
ordersZenfaco << ordersFascom
ordersFascom = HTTParty.get(flexzen_url(fascom_path))&.map { |order| order['so_ct'] }
response_hash['data'].first
response['data'].first
ordersZenfaco.map { |order| order['so_ct'] }
ordersFascom = HTTParty.get(flexzen_url(fascom_path))
ordersZenfaco = HTTParty.get(flexzen_url(zenfaco_path))
response_hash['data']
response_hash
JSON.parse(usersZenfaco.body.to_s).count
JSON.parse(usersZenfaco.body.to_s)
usersZenfaco.body.count
usersZenfaco.body
usersZenfaco = HTTParty.get(flexzen_url(zenfaco_path))
response_hash['data'].count
response_hash['data']
response_hash['data]
response_hash.count
response_hash = get_data_kiotviet
c
bodcbody["ma_dvt"].nil?
body["ma_dvt"].nil?
body["ma_dvt"]
body['ma_dvt'] == dvt if body["ma_dvt"].nil?
body['ma_dvt'] == dvt if body["ma_dvt"].blank?
body['ma_dvt'] == ""
body['ma_dvt']
body
c
productArr
c
productArr
c
puts JSON.pretty_generate(productArr)
JSON.pretty_generate(productArr)
productArr
c
productsFascom
send_data_users_products(usersFascom, productsFascom, user_path, product_path)
